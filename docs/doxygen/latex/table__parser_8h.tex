\hypertarget{table__parser_8h}{}\doxysection{/home/romain/work/code/\+Rad\+Sex/src/table\+\_\+parser.h File Reference}
\label{table__parser_8h}\index{/home/romain/work/code/RadSex/src/table\_parser.h@{/home/romain/work/code/RadSex/src/table\_parser.h}}
{\ttfamily \#include $<$mutex$>$}\newline
{\ttfamily \#include $<$queue$>$}\newline
{\ttfamily \#include \char`\"{}parameters.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}popmap.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}utils.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structMarker}{Marker}}
\item 
struct \mbox{\hyperlink{structMarkersQueue}{Markers\+Queue}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{table__parser_8h_a9ae2958e436c566413867028fc829ec0}\label{table__parser_8h_a9ae2958e436c566413867028fc829ec0}} 
\#define {\bfseries B\+A\+T\+C\+H\+\_\+\+S\+I\+ZE}~100
\item 
\mbox{\Hypertarget{table__parser_8h_a4e61276cc714d63cadbb716a58b6669b}\label{table__parser_8h_a4e61276cc714d63cadbb716a58b6669b}} 
\#define {\bfseries T\+M\+P\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+S\+I\+ZE}~1000
\item 
\#define \mbox{\hyperlink{table__parser_8h_a623ec78b7909090dbedac4af1d52abb4}{M\+A\+X\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+S\+I\+ZE}}~10000
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{table__parser_8h_a182a7d88af41ffade4ed9f42db097f22}\label{table__parser_8h_a182a7d88af41ffade4ed9f42db097f22}} 
typedef std\+::vector$<$ std\+::string $>$ {\bfseries Header}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{table__parser_8h_acae38db5e782a3fd35d349c195888fda}{table\+\_\+parser}} (\mbox{\hyperlink{structParameters}{Parameters}} \&parameters, const \mbox{\hyperlink{structPopmap}{Popmap}} \&popmap, \mbox{\hyperlink{structMarkersQueue}{Markers\+Queue}} \&markers\+\_\+queue, bool \&parsing\+\_\+ended, bool no\+\_\+seq=true, bool no\+\_\+group=false)
\begin{DoxyCompactList}\small\item\em Read markers from a markers depth table and store them in a queue. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{structMarker}{Marker}} $>$ \mbox{\hyperlink{table__parser_8h_a21186046e68117d7e230cc5daaf87f96}{get\+\_\+batch}} (\mbox{\hyperlink{structMarkersQueue}{Markers\+Queue}} \&markers\+\_\+queue)
\begin{DoxyCompactList}\small\item\em Get a batch of markers from the queue. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{table__parser_8h_af7091bf3f43806bf2ea0fb170835b4e6}\label{table__parser_8h_af7091bf3f43806bf2ea0fb170835b4e6}} 
std\+::vector$<$ std\+::string $>$ {\bfseries get\+\_\+column\+\_\+group} (const std\+::unordered\+\_\+map$<$ std\+::string, std\+::string $>$ \&groups, const std\+::vector$<$ std\+::string $>$ \&header)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{table__parser_8h_a623ec78b7909090dbedac4af1d52abb4}\label{table__parser_8h_a623ec78b7909090dbedac4af1d52abb4}} 
\index{table\_parser.h@{table\_parser.h}!MAX\_QUEUE\_SIZE@{MAX\_QUEUE\_SIZE}}
\index{MAX\_QUEUE\_SIZE@{MAX\_QUEUE\_SIZE}!table\_parser.h@{table\_parser.h}}
\doxysubsubsection{\texorpdfstring{MAX\_QUEUE\_SIZE}{MAX\_QUEUE\_SIZE}}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+S\+I\+ZE~10000}

Maximum size of the markers queue 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{table__parser_8h_a21186046e68117d7e230cc5daaf87f96}\label{table__parser_8h_a21186046e68117d7e230cc5daaf87f96}} 
\index{table\_parser.h@{table\_parser.h}!get\_batch@{get\_batch}}
\index{get\_batch@{get\_batch}!table\_parser.h@{table\_parser.h}}
\doxysubsubsection{\texorpdfstring{get\_batch()}{get\_batch()}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{structMarker}{Marker}}$>$ get\+\_\+batch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMarkersQueue}{Markers\+Queue}} \&}]{markers\+\_\+queue }\end{DoxyParamCaption})}



Get a batch of markers from the queue. 


\begin{DoxyParams}{Parameters}
{\em markers\+\_\+queue} & \\
\hline
{\em batch\+\_\+size} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\mbox{\Hypertarget{table__parser_8h_acae38db5e782a3fd35d349c195888fda}\label{table__parser_8h_acae38db5e782a3fd35d349c195888fda}} 
\index{table\_parser.h@{table\_parser.h}!table\_parser@{table\_parser}}
\index{table\_parser@{table\_parser}!table\_parser.h@{table\_parser.h}}
\doxysubsubsection{\texorpdfstring{table\_parser()}{table\_parser()}}
{\footnotesize\ttfamily void table\+\_\+parser (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structParameters}{Parameters}} \&}]{parameters,  }\item[{const \mbox{\hyperlink{structPopmap}{Popmap}} \&}]{popmap,  }\item[{\mbox{\hyperlink{structMarkersQueue}{Markers\+Queue}} \&}]{markers\+\_\+queue,  }\item[{bool \&}]{parsing\+\_\+ended,  }\item[{bool}]{no\+\_\+seq = {\ttfamily true},  }\item[{bool}]{no\+\_\+group = {\ttfamily false} }\end{DoxyParamCaption})}



Read markers from a markers depth table and store them in a queue. 

Read a markers depth table generated with process(). Each marker is stored in a \mbox{\hyperlink{structMarker}{Marker}} instance which is pushed to a queue. The function waits if the queue gets bigger than \mbox{\hyperlink{table__parser_8h_a623ec78b7909090dbedac4af1d52abb4}{M\+A\+X\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+S\+I\+ZE}}. Batches of markers are obtained from the queue with \mbox{\hyperlink{table__parser_8h_a21186046e68117d7e230cc5daaf87f96}{get\+\_\+batch()}}.


\begin{DoxyParams}{Parameters}
{\em parameters} & A Parameter object which contains values of all parameters \\
\hline
{\em popmap} & A \mbox{\hyperlink{structPopmap}{Popmap}} object with information on the group of each individual \\
\hline
{\em markers\+\_\+queue} & Queue of \mbox{\hyperlink{structMarker}{Marker}} objects \\
\hline
{\em parsing\+\_\+ended} & A flag indicating that the parsing ended, set to true before exiting the function \\
\hline
{\em no\+\_\+seq} & If true, marker sequences and ids won\textquotesingle{}t be stored in \mbox{\hyperlink{structMarker}{Marker}} objects \\
\hline
{\em no\+\_\+group} & If true, group counts won\textquotesingle{}t be computed \\
\hline
\end{DoxyParams}
